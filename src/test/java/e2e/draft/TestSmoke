test {
    useTestNG()
    retry {
        maxRetries = 3
    }
    testLogging {
        events "passed", "skipped", "failed", "standardOut", "standardError"
        exceptionFormat "full"
    }
    systemProperty 'allure.results.directory', 'build/allure-results'
}

task testSmoke(type: Test){
    useTestNG(){
        testLogging {
            events "passed", "skipped", "failed", "standardOut", "standardError"
            exceptionFormat "full"
        }
        suites 'src/test/resources/testngSmoke.xml'
    }
    systemProperty 'allure.results.directory', 'build/allure-results'
}
task testNoSmoke(type: Test){
    useTestNG(){
        testLogging {
            events "passed", "skipped", "failed", "standardOut", "standardError"
            exceptionFormat "full"
        }
        suites 'src/test/resources/testngNoSmoke.xml'
    }
    systemProperty 'allure.results.directory', 'build/allure-results'
}
task testSmokeE2e(type: Test){
    useTestNG(){
        testLogging {
            events "passed", "skipped", "failed", "standardOut", "standardError"
            exceptionFormat "full"
        }
        suites 'src/test/resources/testngE2eSmoke.xml'
    }
    systemProperty 'allure.results.directory', 'build/allure-results'
}
task testSmokeApi(type: Test){
    useTestNG(){
        testLogging {
            events "passed", "skipped", "failed", "standardOut", "standardError"
            exceptionFormat "full"
        }
        suites 'src/test/resources/testngSmokeApi.xml'
    }
    systemProperty 'allure.results.directory', 'build/allure-results'
}